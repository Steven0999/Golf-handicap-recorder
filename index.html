<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WHS Handicap â€” Add Round</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <h1>WHS Handicap â€” Add Round</h1>
    <nav>
      <a class="btn secondary" href="history.html">ðŸ“œ History & Handicap</a>
    </nav>
  </header>

  <main class="container">
    <section class="panel">
      <h2>Round Details</h2>
      <div class="row">
        <div>
          <label for="roundDate">Date</label>
          <input id="roundDate" type="date" />
        </div>
        <div>
          <label for="holesCount">Holes</label>
          <select id="holesCount">
            <option value="9">9</option>
            <option value="18" selected>18</option>
          </select>
        </div>
        <div>
          <label for="teeName">Tee / Notes (optional)</label>
          <input id="teeName" type="text" placeholder="e.g., Blue tees, competition" />
        </div>
      </div>
    </section>

    <section class="panel">
      <h2>Hole List (Distance â€¢ Par â€¢ Your Score)</h2>
      <div class="table-wrap">
        <table id="holesTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Distance (yd/m)</th>
              <th>Par</th>
              <th>Your Score</th>
            </tr>
          </thead>
          <tbody id="holesBody"></tbody>
          <tfoot>
            <tr>
              <td class="mono">Totals</td>
              <td class="mono">â€”</td>
              <td class="mono" id="totalPar">0</td>
              <td class="mono" id="totalScore">0</td>
            </tr>
          </tfoot>
        </table>
      </div>

      <div class="row" style="margin-top:10px">
        <div class="kpi">
          <h3>Total Par</h3>
          <div class="value" id="kpiPar">0</div>
        </div>
        <div class="kpi">
          <h3>Total Score (AGS*)</h3>
          <div class="value" id="kpiScore">0</div>
          <small class="muted">*Using total score as AGS for now</small>
        </div>
      </div>
    </section>

    <section class="panel">
      <h2>Course Data (for Differential)</h2>
      <p class="muted">
        If you donâ€™t know these, leave <em>Course Rating = Total Par</em> and <em>Slope = 113</em>.
        PCC is typically 0.
      </p>
      <div class="row">
        <div>
          <label for="courseRating">Course Rating</label>
          <input id="courseRating" type="number" step="0.1" placeholder="defaults to Total Par" />
        </div>
        <div>
          <label for="slopeRating">Slope Rating</label>
          <input id="slopeRating" type="number" step="1" value="113" />
        </div>
        <div>
          <label for="pcc">PCC</label>
          <input id="pcc" type="number" step="1" value="0" />
        </div>
      </div>

      <div class="row actions">
        <button id="saveRound" class="btn">âž• Save Round</button>
        <button id="clearForm" class="btn secondary">Clear</button>
        <span class="pill ghost">Preview Differential: <span id="previewDiff">â€”</span></span>
      </div>
      <p class="footnote">
        WHS Score Differential = <code class="inline">(113 / Slope) Ã— (AGS âˆ’ Course Rating âˆ’ PCC)</code>.
        Weâ€™re using your total score as AGS until you establish an index; once you have one, you can apply hole-caps (net double bogey) if you want to refine older rounds.
      </p>
    </section>

    <section class="panel">
      <h2>Recent (Unsynced) Entries</h2>
      <div class="table-wrap">
        <table id="recentTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Date</th>
              <th>Tee/Notes</th>
              <th>Par</th>
              <th>Score</th>
              <th>CR</th>
              <th>Slope</th>
              <th>PCC</th>
              <th>Differential</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody id="recentBody"></tbody>
        </table>
      </div>
      <p class="muted">All rounds are saved automatically and will appear on the History page.</p>
    </section>
  </main>

  <script src="app.js"></script>
</body>
  </html>
